<!doctype html>
  <!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
  <!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
  <!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
  <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>aktos-dcs-webui</title>
    <meta name="viewport" content="width=device-width; target-densitydpi=device-dpi; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
    <script src="javascripts/vendor.js"></script>
    <script src="javascripts/app.js"></script>
    <link rel="stylesheet" href="stylesheets/app.css">
  </head>
  <body>
    <div id="container" ></div>
    <script id='app' type='text/ractive'>
      {{!}}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! ----------------- START OF PARTIALS  ------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}


        {{#partial io_cmd_button}}
          <ul style="margin: 10px; border: 1px solid yellowgreen; padding: 10px;">
              {{#button.pins}}
                <li style="margin: 2em">
                {{#if (button.type === 'output')}}
                        SET output #<span style="font-size: 1.3em;">{{.pin}}</span>: {{>io_switch {pin: .pin}}}
                {{else}}<img style="width: 100px; height: 100px;" src="static/img/light-bulb-icon-{{ .state === "true" ? "on" : "off" }}-64.png" />
                      READ #{{.pin}}: &lt;&lt;{{.state}}&gt;&gt;
                {{/if}}
                </li>
              {{/button.pins}}
            </ul>
        {{/partial}}

        {{#partial io_switch}}
          {{! -------------------------------------------------
            # Documentation:
              params: button object.
                .pin           : pin number of input/output pin.
                .state         : used for switch's gui state
                .current_state : used for pysical state
                .connected     : used for indicating the connection status
          ----------------------------------------------------- }}
          <input class="blue small toggle-switch" type="checkbox" value={{.pin}} />
        {{/partial}}

        {{#partial analog_input}}
        {{/partial}}

        {{#partial msgline}}
          <div style="background-color: yellowgreen"><span>{{user}} says: </span>{{msg}}</div>
        {{/partial}}

        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! ----------------- END OF PARTIALS  --------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}
        {{! -------------------------------------------------- }}

      <style type="text/css">
          #header1 {
            background-color: white;
            background-image: url('static/img/header.png');
            background-repeat: no-repeat;
            background-size:contain;
            height:200px;
            width: 100%;
          }
          #connection_status {
            background-color: {{ connected ? "yellowgreen" : "lightgray" }};
            font-size: 1.5em;
            padding: 1.5em;
          }
        </style>

      <h2> Input Output Test </h2>
      {{>io_switch {pin: 5}}}

      <div id='header1'></div>
      <p id='connection_status'>{{connected? "connected..." : "connecting..." }}</p>


    </script>

    <script>require('init');</script>

  </body>
</html>
